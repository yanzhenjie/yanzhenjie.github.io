KEEP.initHeaderShrink=()=>{KEEP.utils.headerShrink={headerWrapperDom:null,isHeaderShrink:!1,headerHeight:70,drawerMenuListDom:document.querySelector(".header-drawer .drawer-menu-list"),windowMaskDom:document.querySelector(".window-mask"),init(){this.headerWrapperDom=document.querySelector(".header-wrapper"),this.headerWrapperDom&&(this.headerHeight=this.headerWrapperDom.getBoundingClientRect().height)},headerShrink(){if(KEEP.utils.getFullPageHeight()<window.innerHeight+2*this.headerHeight)return;const e=KEEP.utils.getScrollTop(),r=!0===KEEP.theme_config?.first_screen?.enable&&!window.location.pathname.includes("/page/");!this.isHeaderShrink&&e>this.headerHeight?(this.isHeaderShrink=!0,document.body.classList.add("header-shrink"),r&&this.headerWrapperDom.classList.add("transparent-2")):this.isHeaderShrink&&e<=this.headerHeight&&(this.isHeaderShrink=!1,document.body.classList.remove("header-shrink"),r&&this.headerWrapperDom.classList.remove("transparent-2"))},cleanHeaderShrink(){document.body.classList.remove("header-shrink"),this.isHeaderShrink=!1},sideToolsBarShowHandle(){const e=KEEP.utils.getScrollTop(),r=document.querySelector(".side-tools .side-tools-container");e>this.headerHeight/2?r.classList.add("show"):r.classList.remove("show")},toggleHeaderDrawerShow(){const e=[this.windowMaskDom,document.querySelector(".menu-bar")];!0===KEEP.theme_config?.pjax?.enable&&(e.push(...this.drawerMenuListDom.querySelectorAll(".not-sub-menu")),e.push(...this.drawerMenuListDom.querySelectorAll(".has-sub-menu .sub-menu-item"))),e.forEach((e=>{e.addEventListener("click",(()=>{document.body.classList.toggle("show-header-drawer")}))}))},menuNavJumpHandle(){this.drawerMenuListDom.querySelectorAll(".has-sub-menu .drawer-menu-label").forEach((e=>{e.addEventListener("click",(()=>{e.parentElement.classList.toggle("show-sub-menu")}))}))},closeHeaderDrawer(){document.querySelector(".header-wrapper .header-content .left").addEventListener("click",(()=>{document.body.classList.remove("show-header-drawer")}))}},KEEP.utils.headerShrink.init(),KEEP.utils.headerShrink.headerShrink(),KEEP.utils.headerShrink.toggleHeaderDrawerShow(),KEEP.utils.headerShrink.menuNavJumpHandle(),KEEP.utils.headerShrink.closeHeaderDrawer(),KEEP.utils.headerShrink.cleanHeaderShrink()};